{% load static %}
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>后台模板</title>
		<link rel="stylesheet" href="{% static 'assets/css/amazeui.css' %}" />
		<link rel="stylesheet" href="{% static 'assets/css/font-awesome.min.css' %}">
		<link rel="stylesheet" href="{% static 'assets/css/core.css' %}" />
		<link rel="stylesheet" href="{% static 'assets/css/menu.css' %}" />
		<link rel="stylesheet" href="{% static 'assets/css/index.css' %}" />
		<link rel="stylesheet" href="{% static 'assets/css/admin.css' %}" />
		<link rel="stylesheet" href="{% static 'assets/css/page/typography.css' %}" />
	</head>
	<body>
		<!-- Begin page -->
		<header class="am-topbar am-topbar-fixed-top">
		    <div class="am-topbar-left am-hide-sm-only">
		        <a href="index.html" class="logo"><span>Admin<span>to</span></span><i class="zmdi zmdi-layers"></i></a>
		    </div>
		
		    <div class="contain">
		        <ul class="am-nav am-navbar-nav am-navbar-left">
		
		            <li><h4 class="page-title">数据分析</h4></li>
		        </ul>
		
		        <ul class="am-nav am-navbar-nav am-navbar-right">
		            <li class="inform"><i class="am-icon-bell-o" aria-hidden="true"></i></li>
		            <li class="hidden-xs am-hide-sm-only">
		                <form role="search" class="app-search">
		                    <input type="text" placeholder="Search..." class="form-control">
		                    <a href=""><img src="{%static 'assets/img/search.png'%}"></a>
		                </form>
		            </li>
		        </ul>
		    </div>
		</header>
		<!-- end page -->
		
		
		<div class="admin">
		    <!--<div class="am-g">-->
		    <!-- ========== Left Sidebar Start ========== -->
		    <!--<div class="left side-menu am-hide-sm-only am-u-md-1 am-padding-0">
		        <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 548px;">
		            <div class="sidebar-inner slimscrollleft" style="overflow: hidden; width: auto; height: 548px;">-->
		    <!-- sidebar start -->
		    <div class="admin-sidebar am-offcanvas  am-padding-0" id="admin-offcanvas">
		        <div class="am-offcanvas-bar admin-offcanvas-bar">
		            <!-- User -->
		            <div class="user-box am-hide-sm-only">
		                <div class="user-img">
		                    <img src="{%static 'assets/img/avatar-1.jpg'%}" alt="user-img" title="Mat Helme"
		                         class="img-circle img-thumbnail img-responsive">
		                    <div class="user-status offline"><i class="am-icon-dot-circle-o" aria-hidden="true"></i></div>
		                </div>
		                <h5><a href="#">Mat Helme</a></h5>
		                <ul class="list-inline">
		                    <li>
		                        <a href="#">
		                            <i class="fa fa-cog" aria-hidden="true"></i>
		                        </a>
		                    </li>
		
		                    <li>
		                        <a href="#" class="text-custom">
		                            <i class="fa fa-cog" aria-hidden="true"></i>
		                        </a>
		                    </li>
		                </ul>
		            </div>
		            <!-- End User -->
		
		            <ul class="am-list admin-sidebar-list">
		                <li><a href="/index/"><span class="am-icon-home"></span> 首页</a></li>
		                <li class="admin-parent">
		                    <a class="am-cf" data-am-collapse="{target: '#collapse-nav1'}"><span class="am-icon-table"></span>
		                        用户 <span class="am-icon-angle-right am-fr am-margin-right"></span></a>
		                    <ul class="am-list am-collapse admin-sidebar-sub am-in" id="collapse-nav1">
		                        <li><a href="/reinfo/" class="am-cf"> 修改密码</span></a></li>
		                        <li><a href="/register/">添加管理员</a></li>
		                    </ul>
		                </li>
		                <li class="admin-parent">
		                    <a class="am-cf" data-am-collapse="{target: '#collapse-nav2'}"><i class="am-icon-line-chart"
		                                                                                      aria-hidden="true"></i> 统计图表
		                        <span class="am-icon-angle-right am-fr am-margin-right"></span></a>
		                    <ul class="am-list am-collapse admin-sidebar-sub am-in" id="collapse-nav2">
		                        <li><a href="/table/" class="am-cf"> 数据可视化</span></a></li>
		
		                    </ul>
		                </li>
		            </ul>
		        </div>
		    </div>
				  <!-- sidebar end -->
    
				<!--</div>
			</div>
		</div>-->
		<!-- ========== Left Sidebar end ========== -->
		
		
		
	<!--	<div class="am-g">-->
		<!-- ============================================================== -->
		<!-- Start right Content here -->
		<div class="content-page">
			<!-- Start content -->
			<div class="content">
				<div class="am-g">
					<div class="am-u-md-6" >
						<!-- 折线图堆叠 -->
						<div class="card-box">
							<div  id="one" style="width: 100%;height: 400px;"></div>
						</div>
					</div>
					
					<div class="am-u-md-6">
						<!-- 堆叠区域图  -->
						<div class="card-box">
							<div  id="two" style="width: 100%;height: 400px;"></div>
						</div>
					</div>
				</div>
				
				<div class="am-g">
					<div class="am-u-md-6">
						<!-- Step Line -->
						<div class="card-box">
							<div  id="three" style="width: 100%;height: 400px;"></div>
						</div>
					</div>
					
					<div class="am-u-md-6">
						<!-- 大数据面积图  -->
						<div class="card-box">
							<div  id="four" style="width: 100%;height: 400px;"></div>
						</div>
					</div>
				</div>
				
				<div class="am-g">
					<div class="am-u-md-6">
						<!-- Step Line -->
						<div class="card-box">
							<div  id="five" style="width: 100%;height: 400px;"></div>
						</div>
					</div>
					
					<div class="am-u-md-6">
						<!-- 大数据面积图  -->
						<div class="card-box">
							<div  id="six" style="width: 100%;height: 400px;"></div>
						</div>
					</div>
				</div>
				
			</div>
		</div>
		<!-- end right Content here -->
		<!--</div>-->
		</div>
		</div>
		
		<!-- navbar -->
		<a href="admin-offcanvas" class="am-icon-btn am-icon-th-list am-show-sm-only admin-menu" data-am-offcanvas="{target: '#admin-offcanvas'}"><!--<i class="fa fa-bars" aria-hidden="true"></i>--></a>
		
		<script type="text/javascript" src="{% static 'assets/js/jquery-2.1.0.js' %}" ></script>
		<script type="text/javascript" src="{% static 'assets/js/amazeui.min.js' %}"></script>
		<!-- <script type="text/javascript" src="{% static 'assets/js/app.js' %}" ></script> -->
		<script type="text/javascript" src="{% static 'assets/js/blockUI.js' %}" ></script>
		<script type="text/javascript" src="{% static 'assets/js/charts/echarts.min.js' %}" ></script>
		
		<script>
			$(function(){
				let chat = echarts.init(document.getElementById('one'))
				let chat2 = echarts.init(document.getElementById('two'))
				let chat3 = echarts.init(document.getElementById('three'))
				let chat4 = echarts.init(document.getElementById('four'))
				let chat5 = echarts.init(document.getElementById('five'))
				$.ajax({
					url:'/handle_one/',
					type:'GET',
					success:res=>{
							option = {
							  title: {
								text: '1.不同种类的游戏数量占比'
							  },
							  tooltip: {
								trigger: 'axis',
								axisPointer: {
								  type: 'shadow'
								}
							  },
							  legend: {},
							  grid: {
								left: '3%',
								right: '4%',
								bottom: '3%',
								containLabel: true
							  },
							  xAxis: {
								type: 'value',
								boundaryGap: [0, 0.01]
							  },
							  yAxis: {
								type: 'category',
								data: res.category
							  },
							  series: [
								{
								  name: '数量',
								  type: 'bar',
								  data: res.count
								}
							  ]
							};
							chat.setOption(option)
							
						}
						})
				$.ajax({
					url:'/handle_two/',
					type:'GET',
					success:res=>{
						option2 = {
							title: {
							    text: '2.不同种类的游戏的平均热度',
								
							  },
						  tooltip: {
						    trigger: 'item'
						  },
						  legend: {
						    top: '5%',
						    left: 'center'
						  },
						  series: [
						    {
						      name: '不同种类的游戏的平均热度',
						      type: 'pie',
						      radius: ['40%', '70%'],
						      avoidLabelOverlap: false,
						      padAngle: 5,
						      itemStyle: {
						        borderRadius: 10
						      },
						      label: {
						        show: false,
						        position: 'center'
						      },
						      emphasis: {
						        label: {
						          show: true,
						          fontSize: 40,
						          fontWeight: 'bold'
						        }
						      },
						      labelLine: {
						        show: false
						      },
						      data: res.data
						    }
						  ]
						};
						chat2.setOption(option2)
					}
				})
				$.ajax({
					url:'/handle_three/',
					type:'GET',
					success:res=>{
						option = {
						title: {
							text: '3.不同种类的游戏评论数'
						},
							
						  xAxis: {
						    type: 'category',
						    boundaryGap: false,
						    data: res.category,
							axisLabel: {
							        rotate: 45, // 标签旋转角度
							        interval: 0 // 间隔显示标签，0 表示全部显示
							    }
						  },
						  yAxis: {
						    type: 'value'
						  },
						  series: [
						    {
						      data: res.avg,
						      type: 'line',
						      areaStyle: {}
						    }
						  ]
						};
						
						chat3.setOption(option)
					}
				})
				$.ajax({
					url:'/handle_four/',
					type:'GET',
					success:res=>{
						option = {
							title: {
								text: '4.游戏热度与评论数的关系'
							},
						  xAxis: {
							  name:'游戏热度'
						  },
						  yAxis: {
							  name:'评论数'
						  },
						  series: [
						    {
								
						      symbolSize: 20,
						      data: res.data,
						      type: 'scatter'
						    }
						  ]
						};
					
						chat4.setOption(option)
					}
				})
				$.ajax({
					url:'/handle_five/',
					type:'GET',
					success:res=>{
						option = {
						  title: {
						    text: '5.不同游戏类别的雷达图'
						  },
						  legend: {
						    data: ['敏捷小游戏','射击小游戏','综合小游戏','冒险小游戏','策略小游戏','动作小游戏','益智小游戏','体育小游戏','休闲小游戏','装扮小游戏','儿童小游戏','模拟经营小游戏','棋牌小游戏','测试小游戏','搞笑小游戏' ],
							left: 'center',  // 居中显示
							top: 'bottom'    // 距离底部一定距离
						  },
						  radar: {
						    // shape: 'circle',
						    indicator: [
						      { name: '游戏大小', max: 10 },
						      { name: '热度', max: 910 },
						      { name: '评论数', max: 75 },
						    ]
						  },
						  series: [
						    {
						      name: 'Budget vs spending',
						      type: 'radar',
						      data: [
						        {
						          value: res.敏捷小游戏,
						          name: '敏捷小游戏'
						        },
						        {
						          value: res.射击小游戏,
						          name: '射击小游戏'
						        },
								{
								  value: res.综合小游戏,
								  name: '综合小游戏'
								},
								{
								  value: res.冒险小游戏,
								  name: '冒险小游戏'
								},
								{
								  value: res.策略小游戏,
								  name: '策略小游戏'
								},
								{
								  value: res.动作小游戏,
								  name: '动作小游戏'
								},
								{
								  value: res.益智小游戏,
								  name: '益智小游戏'
								},
								{
								  value: res.体育小游戏,
								  name: '体育小游戏'
								},
								{
								  value: res.休闲小游戏,
								  name: '休闲小游戏'
								},
								{
								  value: res.装扮小游戏,
								  name: '装扮小游戏'
								},
								{
								  value: res.儿童小游戏,
								  name: '儿童小游戏'
								},
								{
								  value: res.模拟经营小游戏,
								  name: '模拟经营小游戏'
								},
								{
								  value: res.棋牌小游戏,
								  name: '棋牌小游戏'
								},
								{
								  value: res.测试小游戏,
								  name: '测试小游戏'
								},
								{
								  value: res.搞笑小游戏,
								  name: '搞笑小游戏'
								},
						      ]
						    }
						  ]
						};
						chat5.setOption(option)
					
					}
				})
				
			})
		</script>
	</body>
	
</html>
